

# Index 란?

  내가 찾고 싶은 데이터를 찾을 때, 모든 레코드에서 찾는 것 보다 특정한 범위 내 한정해서 데이터를 찾는게 빠르다.
  
  즉, 우리가 책에다 `포스트잇`을 붙여 넣거나 목차를 달아두어서 찾고자 하는 내용이 있으면 해당 내용이 속한 `포스트잇`이나 목차를 바로 찾아서
  둘러 보는 것과 같다. DB에서 `레인지 스캔`을 하려면 책처럼 색인(목차)이 필요하다. 이러한 색인, 포스트잇을 `DB에서 인덱스(Index)`라고 부른다.
  
  예를 들어 사용자가 100만명이 있는 테이블에서 userid 가 akdu39 라는 값을 찾고자 한다면, 다음 이 쿼리를 사용해야 한다.
  
  ~~~SQL
  select userid from user_table where userid = "akdu39"
  ~~~
  
  만약 인덱스가 없다면 100만개의 데이터를 모두 찾아보고 akdu39 값과 매칭되는 결과를 찾아야 합니다. 10개, 100개 정도되는 데이터의 양이라면
  상관 없을 수 있지만 100만개 라는 방대한 데이터에서 모든 값들을 하나하나 찾는 건 속도에 큰 영향을 준다.
  
  이때, userid 값 기준으로 index를 만들어주면 userid가 a,b,c순으로 정렬되어 있기 때문에 aku~ 부분에서 문자열을 바로 찾을 수 있다.
  `만약 해당하는 문자열이 없다면 b로 넘어가기 전에 탐색이 종료되기 때문에 전체탐색보다 빠르다.`
  
  `한 테이블에서 여러개 index 설정이 가능하다. 다만 인덱스가 너무 많으면 새로운 Row를 추가할 때 마다 인덱스 값 또한 추가해주어야 되서
   한 테이블에 index는 최대 3~4개 정도가 적당하다.`
  
  
  인덱스 구조는 실제로 B-Tree 구조로 구성되어있다.
  
  ## B-Tree
  
  B-Tree의 핵심은 데이터가 정렬된 상태로 유지되어 있다는 것
  
  ![이미지](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FqycZ2%2FbtqBQnr4QYG%2F7J8KpnmNaJiTjgS0K9TEIK%2Fimg.png)
  
  그림에 표시된 사각형으로 표시된 한개 한개의 데이터를 `노드(Node)` 라고 한다.
  
  가장 상단의 노드를 `루트 노드(Root Node)`, 중간 노드들을 `브랜치 노드(Branch Node)`, 가장 아래 노드들을 `리프 노드(Leaf Node)`라고 한다.
  
  
  
  
